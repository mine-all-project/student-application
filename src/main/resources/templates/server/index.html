<!doctype html>
<html class="x-admin-sm" xmlns:th="http://www.thymeleaf.org"
			xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
	<title>后台管理</title>
	<div data-th-include="/components/vue :: style"></div>
	<style>
      .el-header {
          background-color: #B3C0D1;
          color: #333;
          line-height: 60px;
      }

      .el-aside {
          color: #333;
      }
	</style>
</head>
<body>
<div id="app">
	<el-container style=" border: 1px solid #eee">
		<div data-th-replace="/components/page-components :: header"></div>
		<el-container>
			<div data-th-replace="/components/page-components :: menus"></div>
			<el-main>
				<el-row>
					<el-table :data="paperList" stripe style="width: 100%">
						<el-table-column prop="title" label="文章标题" width="220"></el-table-column>
						<el-table-column prop="content" label="文章内容" :show-overflow-tooltip="true"></el-table-column>
						<el-table-column label="文章内容" width="160">
							<template slot-scope="scope">
								<el-button type="danger" @click="remove(scope)" size="mini">删除</el-button>
								<el-button type="primary" @click="openPaperEdit(scope)" size="mini">编辑</el-button>
								<el-button type="primary" @click="openReadWindow(scope)" size="mini">朗读</el-button>
							</template>
						</el-table-column>
					</el-table>
					<el-button type="primary" @click="openPaperEdit(undefined)" size="mini" style="margin-top: 10px">添加文章</el-button>
					<el-drawer :before-close="closeEdit" :visible.sync="show.drawer" :wrapperClosable="false" size="60%"
										 ref="drawer">
						<div>
							<el-form v-model="form">
								<el-form-item label="文章标题" :label-width="formLabelWidth">
									<el-input v-model="form.title" autocomplete="off"></el-input>
								</el-form-item>
								<el-form-item label="上传文件" :label-width="formLabelWidth">
									<el-upload class="avatar-uploader" :action="`/api/uploadFile`"
														 :show-file-list="true" ref="uploadFile" :limit="1" :on-success="uploadSuccess">
										<el-button size="small" type="primary">点击上传</el-button>
									</el-upload>
								</el-form-item>

							</el-form>
							<div style="margin-left: 10px">
								<el-button type="primary" @click="savePaper" :loading="show.loading">
									{{ show.loading ? '提交中 ...' : '确定'}}
								</el-button>
								<el-button @click="closeEdit">取 消</el-button>
							</div>
							<div style="margin: 10px 0 0 10px">
								<el-input v-model="form.content" type="textarea" rows="20" readonly></el-input>
							</div>
						</div>
					</el-drawer>
				</el-row>
			</el-main>
		</el-container>
	</el-container>
</div>
<div data-th-include="/components/vue :: javascript"></div>
<script src="./main.js"></script>
</body>
</html>
